<!-- volet1 // volet2 // volet3 // volet4 // volet5 // volet6 // volet7 // volet 8 // volet9 // velux1 // velux2 // velux3 // rideau1 // rideau2 
// store1 // portail1 // garage1 -->

<div style="min-width:100px; min-height:100px;" class="cmd tooltips cmd-widget cursor container-fluid #history# #displayHistory#" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#">
	<center>
		<span style="font-weight: bold;font-size:12px;#hideCmdName#">#name_display#</span>
		<div class="iconCmd#id#"></div>
	<div class="position#id#" style="font-weight:bold;">
		<span>#state#</span> 	
      	<span>#unite#</span> 
		</div>
	<div style="#displayHistory# font-size: 0.8em;" class="col-xs-12 center-block">
			<span title="Min" class="tooltips">#minHistoryValue#</span>|<span title="Moyenne" class="tooltips" >#averageHistoryValue#</span> | <span title="Max" class="tooltips">#maxHistoryValue#</span> <i class="#tendance#"></i>
		</div>
	</center>
	<script>
   var valueType = ('#type#' !='#'+'type#') ? "#type#":"volet1";
   var srcImg = "plugins/widget/core/template/dashboard/cmd.info.numeric.MultiOuvrants/"+valueType;
   var valueTaille = is_numeric('#taille#') ? parseFloat('#taille#'):95;
   var paramTaille = '/height='+valueTaille+'px width='+valueTaille+'px';
   var iconUpdate = function (state){
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').empty();
		if (state >= 0 && state <= 5) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/0.png" '+paramTaille+'>');
		}
		if (state >= 6 && state <= 15) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/10.png" '+paramTaille+'>');
		}
		if (state >= 16 && state <= 25) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/20.png" '+paramTaille+'>');
		}
		if (state >= 26 && state <= 35) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/30.png" '+paramTaille+'>');
		}
		if (state >= 36 && state <= 45) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/40.png" '+paramTaille+'>');
		}
		if (state >= 46 && state <= 55) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/50.png" '+paramTaille+'>');
		}
		if (state >= 56 && state <= 65) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/60.png" '+paramTaille+'>');
        }  
		if (state >= 66 && state <= 75) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/70.png" '+paramTaille+'>');
		}
		if (state >= 76 && state <= 85) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/80.png" '+paramTaille+'>');
		}
		if (state >= 86 && state <= 95) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/90.png" '+paramTaille+'>');
		}
		if (state >= 96 && state <= 100) {
			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImg+'/100.png" '+paramTaille+'>');
		}
   }
	jeedom.cmd.update['#id#'] = function(_options){
		$('.cmd[data-cmd_uid=#uid#]').attr('title','Valeur du '+_options.valueDate+', collect√©e le '+_options.collectDate)
		iconUpdate(_options.display_value);
      
      var valuePosition = Boolean('#position#');
     if (valuePosition == false) { 
		 $('.cmd[data-cmd_id=#id#] .position#id#').empty().text(_options.display_value+'#unite#').show();
     }
     else {
       $('.cmd[data-cmd_uid=#uid#] .position#id#').empty().text(_options.display_value+'#unite#').hide();
     }
	}
	jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
	</script>
</div>
